<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.21.21"/><link href="https://fonts.googleapis.com/css?family=Roboto:400,900|Lato:100,300,400,700|Merriweather:400,700&amp;display=swap" rel="stylesheet"/><link as="script" rel="preload" href="/webpack-runtime-52b538f2e57803296958.js"/><link as="script" rel="preload" href="/framework-da8c6e3ed6a1d0c32925.js"/><link as="script" rel="preload" href="/app-0940477fd59c552e919c.js"/><link as="script" rel="preload" href="/a987ea44-ce87946630821c26ca45.js"/><link as="script" rel="preload" href="/be84322114ae2dbfbdb3d7ea55d256e4ce9a0b00-91906328d0bcad9f00b6.js"/><link as="script" rel="preload" href="/896d87109e2f2ec96555339b081af96630297152-f8bf7407ebee1b725c67.js"/><link as="script" rel="preload" href="/component---src-templates-portfolio-post-single-js-4c90b14320d6a4edf1f4.js"/><link as="fetch" rel="preload" href="/page-data/typeform-fb-chat/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="header uk-background-cover uk-light uk-flex" uk-parallax="bgy: -100"><div class="header-wrapper"><div class="header-content"><a href="/"><div class="header-title">Isa Chen</div></a><p class="header-description">Computers are like bikinis. They save people a lot of guesswork.</p></div></div></div><nav class="uk-navbar-container" data-uk-sticky="show-on-up: true; animation: uk-animation-slide-top; bottom: #bottom" data-uk-navbar="true"><div class="uk-navbar-center"><ul class="uk-navbar-nav"><li class=""><a href="/blog">blog</a></li><li class=""><a href="/portfolio">portfolio</a></li></ul></div></nav><div class="container mt-5"><div class="portfolio_single mb-4"><div class="portfolio_single-title"><h1 class="accent-heading">Convert a Typeform for Facebook&#x27;s Chat Bot</h1><a class="portfolio_single-button" href="https://github.com/isabellachen/typeform-messenger-server">Visit Website</a></div><div><p>Data collection in developing countries is always challenging. How does one reach out to a large and unfamiliar demographic through the right channels with the right incentives to get enough responses? More importantly, how can an international NGO equip staff in their field offices, who have the social expertise but not the technical capacity, with the right technology to conduct such surveys?</p>
<hr>
<h2>Tech Stack</h2>
<ul>
<li>NodeJS</li>
<li>Facebook API</li>
<li>Typeform API</li>
<li>Jest</li>
</ul>
<hr>
<h2>The Idea</h2>
<p>The idea is simple. Give non-developers the power to create their own bots using Typeform and let the software take care of the rest. With Typeform, a field worker can easily create a form with all the questions she'd like to ask in a simple, intuitive way. She can then plug the typeform into our server, tell us where her Facebook bot lives and voilá! Her Facebook bot is set up to ask questions to anyone who visits her page on Facebook.</p>
<table>
<thead>
<tr>
<th align="center">Screen One</th>
<th align="center">Screen Two</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f47cc9c8a0f20e10f5d2322ebadf2e58/04784/typeform-screenshot-01.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 102.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAABYlAAAWJQFJUiTwAAACYElEQVQ4y51Uu47TQBT1XyEh/gBKan6Dj6CkoELQUQAFCBoQFR1CokAQEla72dhjx6/xxnFsx/bM4c7DlpU4u1qudDJXY+f4Ps69TvvrE+TqB/Kygx/l4JsSSbZDmBTINhWUSQUpjU/ndXDSJw+wf/0YabbB8tIF8wNEcYpdWWt0XTeQTZl6NH7syLOvQPAbTStQVSXquqazQrPfD74Q4ig6xSIIrTAQmpUilDalU6bIyrI8Sq0nGEPdOVJQSvSnUzVRhH3aferCRjBLgEfvgIdvgM/nNmXc0kx0plUsl3j2XeLpN4mfoU25TT3dkDRJcJVlSOhU4GmKdAy6U3XtOyEm6qTunMafY8UCeKsVwvUanuvicrkEYwzM8zQ8BbpXDcJIQuKgw8r/r5SVdabx+PgXuPMc+LC4oYbiRKMs7ZCyuwHez82pCZtgQVPBKd0AcRQh8H1st9uTUzGOcrKGbeIiSjmRhboZqo5FUVw7ZirChlKOd0BEr67p+3V7Q8qnyDqb65cLiXsvJe6/Au6+AN7OekIpb9cU+1uQguaJxCIF/pDAN3Vfw6aBTxJxSTZKIi7Jg3kuAuZi7XvaX14skZFGq3pPEQobg5xcFE7btvplzrk+8ysOL+Q4YxznfoYgovs00fPcNO1oDKFnV1iRy/FyGFtJxU1KWkBUbEbFjsvjuo63z2HXHZHHEFZ3CnwnEG0F4kIgIazJrxpxtDDGHzC+eccR/swsHyvkrJIItxIBIS4kEUqShJmxKT0OY3gVQFa5kc2hxo4wOS0YFq3pkdC+c6j6fqUfYkqjQ68tqcI/yTpkWjdFFD8AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="typeform screenshot 01"
        title="typeform screenshot 01"
        src="/static/f47cc9c8a0f20e10f5d2322ebadf2e58/5a190/typeform-screenshot-01.png"
        srcset="/static/f47cc9c8a0f20e10f5d2322ebadf2e58/772e8/typeform-screenshot-01.png 200w,
/static/f47cc9c8a0f20e10f5d2322ebadf2e58/e17e5/typeform-screenshot-01.png 400w,
/static/f47cc9c8a0f20e10f5d2322ebadf2e58/5a190/typeform-screenshot-01.png 800w,
/static/f47cc9c8a0f20e10f5d2322ebadf2e58/04784/typeform-screenshot-01.png 1174w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></td>
<td align="center"><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/37d7932ceae0439c4b8a2c5428bc5f32/511f0/typeform-screenshot-02.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 105.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEUUlEQVQ4y5WUW2xUVRSG50VjNMbEGB99MDHGaDQ++GLAoEETUQLBG4jSFlpswIgxCjVopbRFGqjVCi3hokAvQDtgp7X3dnrFllJwoMCU0mumc+10Opd25szMOedznzOQsQRMXMmfvffa+/x77bXO+g0IU1VVQBYTGVmRicsCYozJCoqiiD1F9yPGkKSwoUbhteMKy8tkVlTKLDsh8361gi8CBo3sjinc29S71s4FGA0mcMkN/Q6weBBBqBi0A1LYRnTmNPiNtF+rYm9rGQfM7Ww3jtBoGSIcHMFi7aapo5uCP66SVzvM7spefjW2oMxWQ1B8u9CjX6YTBrz9qGNrsA2m8kb+Jl4ofpVnC7ax+ptCLF37WfB18VtDFgPGbzlw8hhPZFTxVMphDG/mU1i6HqZWELbt01+iE/pnL4l3pPLT0Z08nZXJ29Wvs+NcBv1lnzNxJo3Brh/4xbiR+oFCmMihoySNxo4eKms6eT7te0JXlqK4ivSUJSKcHSQ+kcJ7WXk8lrpbJHs5Lc1fc6B+C1kVmZib8+ls2IKpPZuezt0U1W0ieLmBZvN5Hli5j776JSKgbcTV24RB30X8w2ks2ZLPQ+uOsKEiQ+StD+e1PZQ2b6DS9AGTh9Zy80IRJ5tzKar9FOu5PGqbOngx43cqTiwThOsXEwYE4dKtuTz88Qk+LPkSy98lhG4VYh8upq83l79adxEYPUpF03ZO1aUTvN6Ee8LKK5mHKa9YC9EWUeXbhHPeQZTJVNbuzObRj46RLarXZi5kbOg4k917uXH+CJaLe5geOoijJ0sk/TK9bSaKyxt5ZPWPDLSsElVuTBLOzoii2FMpPbmdB1cepHaglZuer5ieysVfsxFXdw5jY41MWU14qjKZvHQGxW/n0Ok2XkrfhWR5DnkiPVmUuZl+lPF1hEY28swnOWQezMMZT+Fsfw4F5V9Q3LCZgprNmHuy+flsGS/vqOSt76p4fM1+Sg+/A8NPIo19lvxtIpKP8etG3KPnqG+ro8Ro5qq1hYr2fk619TFkqcPh7GVkYpCaizaqBxyUdVgxnR8i6mtFmfuTeHAQrekMsv26cDiJC+JoPNleWuvesYAkUiT2oir/aVrPG+QpC4p3KtGvalyIgCLEQYiCmhAFf0TBMy/jDsV1xIRwxOJCPARCkkwwEicoxQjr0dzuZZ1LVxV1ERRdOBZDURLjbFglxaTy7imVVWdUUk3gC5Mk/L8mC96rbpUL03DBDlfEXNbURg0HiM4HcLlcOBx2nA4HTqcTh92OfXoat/DbbDYd+p5AwO8nFov+S9ySyTXIVjPS1BWGbtxkfGwUj9uNSxBqRNqoracFmXaBNtcw5/MhRSJor9ei0qLVUiG7b2kCi14ITZkXVyyRx3tXU70nlJiEYX5+Hpe41ev1MjPjxeOZ0aH5/P7AfT++G3eebZAkiYgIPxqNopFraw3hcFj33S+iZLSJMSSOjvtU/gFzzrljKLUVeQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="typeform screenshot 02"
        title="typeform screenshot 02"
        src="/static/37d7932ceae0439c4b8a2c5428bc5f32/5a190/typeform-screenshot-02.png"
        srcset="/static/37d7932ceae0439c4b8a2c5428bc5f32/772e8/typeform-screenshot-02.png 200w,
/static/37d7932ceae0439c4b8a2c5428bc5f32/e17e5/typeform-screenshot-02.png 400w,
/static/37d7932ceae0439c4b8a2c5428bc5f32/5a190/typeform-screenshot-02.png 800w,
/static/37d7932ceae0439c4b8a2c5428bc5f32/511f0/typeform-screenshot-02.png 1172w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></td>
</tr>
</tbody>
</table>
<h2>Translating Typeform’s API for Facebook Messenger</h2>
<p>Typeform has a simple, elegant API, which means I could get to the meat of the problem pretty quickly — translating Typeform questions into responses for the Facebook bot to post to my users. The forms had more question types than could be directly translated to the Facebook Messenger Platform. It was tricky, trying to translate the richness of the Typeform form experience to Facebook chat. This was in no part a failing of the Messenger Platform of course, Facebook Messenger is after all meant mainly for interaction via chat and not forms.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/b23ebd09f9d11b21563947814372c270/2cefc/tf-fb-conversion.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 30.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAABKElEQVQY02OQlndN90mZGZKkpOKpoeappe6lpeGlqe6lpOAC5F65fPv///9///79jwp+/foFFGSQlnYyM48wNg3T0/bV1/Ez1A80Ngwy0AuQkbKXlXa4cvnWz5/fnz19+urly6dPnn7+/AXZCAZpSTtJWQ9JBX9p5SAppQBZeU8ZOTcJcRspCVtZGYfLl28BFX398vXXj+9vPnx7/O73t1///v//BwFAzfZyqsHyWlHymlHyaiHyyv7ySn4y0g5SEjZyss4XD+4DKv37D2TPp5//H334/+kHVPPfv0DNQOepBMlrRctpRsmphcop+8sqegPdLCUO1rx3+///f/78BSn/9vMfUOeXn/9gFoM1yyh4KWqGyqkGyaqHyir7AZ0N0ozkbMwAgwAAOkPPnZxmVyEAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="tf fb conversion"
        title="tf fb conversion"
        src="/static/b23ebd09f9d11b21563947814372c270/5a190/tf-fb-conversion.png"
        srcset="/static/b23ebd09f9d11b21563947814372c270/772e8/tf-fb-conversion.png 200w,
/static/b23ebd09f9d11b21563947814372c270/e17e5/tf-fb-conversion.png 400w,
/static/b23ebd09f9d11b21563947814372c270/5a190/tf-fb-conversion.png 800w,
/static/b23ebd09f9d11b21563947814372c270/c1b63/tf-fb-conversion.png 1200w,
/static/b23ebd09f9d11b21563947814372c270/2cefc/tf-fb-conversion.png 1400w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span>
<em>Typeform(left) vs Facebook Messenger (right)</em></p>
<p>Typeform can encode 21 different types of questions. Users can select from drop downs, give ratings, provide feedback using an opinion scale, make a choice based on a picture — it goes on. Facebook, meanwhile, has three primary ways to interact with the user: with chat, buttons or quick replies, which allows the user to send quick yes/no answers or provide the bot with things like their location and email address.</p>
<p>Some question types could be converted in an obvious way, for example, a Typeform yes-no question type could be translated directly to a quick reply, while a dropdown became a row of buttons stacked on top of each other. Others were less straightforward. Star ratings and opinion scales ended up boiling down to the same thing due to screen real estate on Facebook Messenger — while there was no straightforward way to standardise a question asking for date input without throwing up a webview.</p>
<p>Nevertheless, all the question types, from multiple choice questions to questions that asked for personal details and long form answers, eventually found a counterpart representation on Facebook Messenger.</p>
<hr></div></div><div class="blog_single-nav mb-4"><div class="blog_single-next null"></div><div class="blog_single-next blog_single-next_chevron"><a href="/webhint">Webhint IO, A Testing Engine for the Web</a></div></div></div><div class="footer"><div class="container"><div>Isa Chen © <!-- -->2020</div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/typeform-fb-chat";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-0940477fd59c552e919c.js"],"component---src-pages-index-js":["/component---src-pages-index-js-5c7d798cb1b70bb3eb8e.js"],"component---src-templates-blog-post-single-js":["/component---src-templates-blog-post-single-js-1c819b0d23a91955e51d.js"],"component---src-templates-blog-posts-js":["/component---src-templates-blog-posts-js-b3c09145528ea9e6eb28.js"],"component---src-templates-portfolio-post-single-js":["/component---src-templates-portfolio-post-single-js-4c90b14320d6a4edf1f4.js"],"component---src-templates-portfolio-posts-js":["/component---src-templates-portfolio-posts-js-e6e0e3a6ae94823ccea5.js"]};/*]]>*/</script><script src="/component---src-templates-portfolio-post-single-js-4c90b14320d6a4edf1f4.js" async=""></script><script src="/896d87109e2f2ec96555339b081af96630297152-f8bf7407ebee1b725c67.js" async=""></script><script src="/be84322114ae2dbfbdb3d7ea55d256e4ce9a0b00-91906328d0bcad9f00b6.js" async=""></script><script src="/a987ea44-ce87946630821c26ca45.js" async=""></script><script src="/app-0940477fd59c552e919c.js" async=""></script><script src="/framework-da8c6e3ed6a1d0c32925.js" async=""></script><script src="/webpack-runtime-52b538f2e57803296958.js" async=""></script></body></html>